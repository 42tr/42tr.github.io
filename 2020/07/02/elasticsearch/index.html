<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#3367D6"/>
  <link rel="apple-touch-icon" href="/icons-192.png">
  <link rel="manifest" href="/manifest.json">

  

  

  
    <meta name="author" content="KsClouds">
  

  

  

  <title>elasticsearch | Kisia</title>

  

  
    <link rel="icon" href="/favicon.ico">
  

  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    <link href="https://cdn.bootcss.com/highlight.js/9.15.6/styles/monokai.min.css" rel="stylesheet">
  

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Kisia" type="application/atom+xml">
</head>
<body>
  <div class="root-container">
    <!-- navbar -->
<nav class="navbar">
  <div class="navbar-content">
    <!-- logo -->
    <div class="navbar-logo">
      <a href="/">
        
          Kisia
        
      </a>
    </div>
    <!-- link -->
    <div class="navbar-link">
      <div class="navbar-btn">
        <div></div>
        <div></div>
        <div></div>
      </div>
      <ul class="navbar-list">
        
          <li class="navbar-list-item"><a href="/">HOME</a></li>
        
          <li class="navbar-list-item"><a href="/about">ABOUT</a></li>
        
          <li class="navbar-list-item"><a href="/links">LINK</a></li>
        
          <li class="navbar-list-item"><a href="/tags">TAGS</a></li>
        
          <li class="navbar-list-item"><a href="/categories">CATEGORIES</a></li>
        
      </ul>
    </div>
  </div>
</nav>

    
<!-- header container -->
<header class="header-container post">

  
  

  
  

  
  

  
  

  
  
    <div class="header-content">
      <div class="post-image" style="background-image: url(https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1595490441846&amp;di=a67b98246df13a6c86c45a530622c4a6&amp;imgtype=0&amp;src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2F7%2F58afebdbc2b4f.jpg)"></div>
      <div class="post-text">
        <div class="type-wrap">
          
        </div>
        <h1 class="title-wrap">elasticsearch</h1>
        <h2 class="title-sub-wrap">
          <strong>KsClouds</strong>
          <span>发布于</span>
          
  <a href="javascript:;" class="article-date">
    <time datetime="2020-07-02T12:45:07.000Z" itemprop="datePublished">2020-07-02</time>
  </a>

        </h2>
      </div>
    </div>
  

  
  

  </header>

    <!-- 文章 -->

<!-- 文章内容 -->

<div class="body-container">
  <article class="content-container article-container">
    <div class="article-content">
      
      

      <section class="article-entry">
        <h2 id="启动-elasticsearch"><a href="#启动-elasticsearch" class="headerlink" title="启动 elasticsearch"></a>启动 elasticsearch</h2><p>docker 方式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run --name es -d -p 9200:9200 -e "ES_JAVA_OPTS=-Xms256m -Xmx256m" -e "discovery.type=single-node" elasticsearch:6.5.0<br></code></pre></td></tr></table></figure>



<h2 id="使用-elasticsearch-head-连接-elasticsearch"><a href="#使用-elasticsearch-head-连接-elasticsearch" class="headerlink" title="使用 elasticsearch-head 连接 elasticsearch"></a>使用 elasticsearch-head 连接 elasticsearch</h2><h3 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h3><ol>
<li>git 工程<br><a href="https://github.com/mobz/elasticsearch-head" target="_blank" rel="noopener">elasticsearch-head</a></li>
<li>使用docker<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker pull mobz/elasticsearch-head:5<br>docker run -d -p 9100:9100 docker.io/mobz/elasticsearch-head:5<br></code></pre></td></tr></table></figure>
<h3 id="elasticsearch-中修改-config-slasticsearch-yml"><a href="#elasticsearch-中修改-config-slasticsearch-yml" class="headerlink" title="elasticsearch 中修改 config/slasticsearch.yml"></a>elasticsearch 中修改 config/slasticsearch.yml</h3></li>
</ol>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> allow origin 设置允许跨域</span><br>http.cors.enabled: true<br>http.cors.allow-origin: "*"<br></code></pre></td></tr></table></figure>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>访问 ip:9100<br>在其中输入 es 地址即可使用</p>
<h2 id="使用-——-Rest风格API"><a href="#使用-——-Rest风格API" class="headerlink" title="使用  —— Rest风格API"></a>使用  —— Rest风格API</h2><table>
<thead>
<tr>
<th>method</th>
<th>url</th>
<th>describe</th>
</tr>
</thead>
<tbody><tr>
<td>PUT</td>
<td>host:port/index/type/id</td>
<td>创建文档（指定文档id）</td>
</tr>
<tr>
<td>POST</td>
<td>host:port/index/type</td>
<td>创建文档</td>
</tr>
<tr>
<td>POST</td>
<td>host:port/index/id/_update</td>
<td>更新文档</td>
</tr>
<tr>
<td>DELETE</td>
<td>host:port/index/type/id</td>
<td>删除文档</td>
</tr>
<tr>
<td>GET</td>
<td>host:port/index/type/id</td>
<td>查询文档</td>
</tr>
<tr>
<td>POST</td>
<td>host:port/index/type/_search</td>
<td>查询所有文档</td>
</tr>
</tbody></table>
<h3 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">PUT /<span class="hljs-built_in">test</span><br>&#123;<br>	<span class="hljs-string">"mappings"</span>: &#123;<br>		<span class="hljs-string">"properties"</span>: &#123;<br>			<span class="hljs-string">"name"</span>: &#123;<br>				<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span><br>			&#125;,<br>			<span class="hljs-string">"age"</span>: &#123;<br>				<span class="hljs-string">"type"</span>: <span class="hljs-string">"long"</span><br>			&#125;,<br>			<span class="hljs-string">"birthday"</span>: &#123;<br>				<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span><br>			&#125;<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="添加文档"><a href="#添加文档" class="headerlink" title="添加文档"></a>添加文档</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">PUT /<span class="hljs-built_in">test</span>/type1/1<br>&#123;<br>	<span class="hljs-string">"name"</span>: <span class="hljs-string">"kisia"</span>,<br>	<span class="hljs-string">"age"</span>: 1,<br>	<span class="hljs-string">"birthday"</span>: <span class="hljs-string">"19960201"</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="更新文档"><a href="#更新文档" class="headerlink" title="更新文档"></a>更新文档</h3><ol>
<li><p>方法一：同添加数据——会覆盖所有之前的数据</p>
</li>
<li><p>方法二：只会更新对应字段</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs awk">POST <span class="hljs-regexp">/test/</span>type1<span class="hljs-regexp">/1/</span>_update<br>&#123;<br>	<span class="hljs-string">"doc"</span>: &#123;<br>		<span class="hljs-string">"name"</span>: <span class="hljs-string">"kivi"</span><br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>按条件更新</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell">http://192.168.51.176:9200/jingqing_table_index/_update_by_query<br>&#123;<br>    "script": &#123;<br>        "source": "ctx._source['column_xx']=null"<br>    &#125;,<br>    "query": &#123;<br>        "match_phrase": &#123;<br>            "column_xx": "content_xx"<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="查询文档"><a href="#查询文档" class="headerlink" title="查询文档"></a>查询文档</h3><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">http://192.168.51.86:9200/jingqing_table_index/_search?pretty<br></code></pre></td></tr></table></figure>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">GET</span> test/type1/_search?<span class="hljs-attribute">q</span>=name:ki<br></code></pre></td></tr></table></figure>



<h4 id="查询为-null-的数据"><a href="#查询为-null-的数据" class="headerlink" title="查询为 null 的数据"></a>查询为 null 的数据</h4><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">POST index/type/_search <br>&#123;<br>  "query": &#123;<br>    "bool": &#123;<br>      "must_not": &#123;<br>        "exists": &#123;<br>          "field": "字段名"<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="精准查询"><a href="#精准查询" class="headerlink" title="精准查询"></a>精准查询</h4><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">http://192.168.51.176:9200/jingqing_table_index/_search<br>&#123;<br>    "query": &#123;<br>        "match_phrase": &#123;<br>            "column_xx": "content_xx"<br>        &#125;<br>    &#125;,<br>    "from": 0,<br>    "size": 20<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="返回指定字段"><a href="#返回指定字段" class="headerlink" title="返回指定字段"></a>返回指定字段</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">GET</span> test/_search<br>&#123;<br>	<span class="hljs-string">"query"</span>: &#123;<br>		<span class="hljs-string">"match"</span>: &#123;<br>			<span class="hljs-string">"name"</span>: <span class="hljs-string">"kisia"</span><br>		&#125;<br>	&#125;,<br>	<span class="hljs-string">"_source"</span>: [<span class="hljs-string">"name"</span>]<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">GET</span> test/_search<br>&#123;<br>	<span class="hljs-string">"query"</span>: &#123;<br>		<span class="hljs-string">"match"</span>: &#123;<br>			<span class="hljs-string">"name"</span>: <span class="hljs-string">"kisia"</span><br>		&#125;<br>	&#125;,<br>	<span class="hljs-string">"sort"</span>: [&#123;<br>		<span class="hljs-string">"age"</span>: &#123;<br>			<span class="hljs-string">"order"</span>: <span class="hljs-string">"desc"</span><br>		&#125;<br>	&#125;]<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">GET</span> test/_search<br>&#123;<br>	<span class="hljs-string">"query"</span>: &#123;<br>		<span class="hljs-string">"match"</span>: &#123;<br>			<span class="hljs-string">"name"</span>: <span class="hljs-string">"kisia"</span><br>		&#125;<br>	&#125;,<br>	<span class="hljs-string">"from"</span>: 0,<br>	<span class="hljs-string">"size"</span>: 1<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="属性说明"><a href="#属性说明" class="headerlink" title="属性说明"></a>属性说明</h4><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>_score</td>
<td>匹配度</td>
</tr>
<tr>
<td>max_score</td>
<td>最大分值</td>
</tr>
<tr>
<td>version</td>
<td>更新次数</td>
</tr>
<tr>
<td>relation</td>
<td>匹配关系，eq - equals</td>
</tr>
</tbody></table>
<h2 id="使用kibana"><a href="#使用kibana" class="headerlink" title="使用kibana"></a>使用kibana</h2><h3 id="启动-1"><a href="#启动-1" class="headerlink" title="启动"></a>启动</h3><p>docker方式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run --name kibana -e ELASTICSEARCH_URL=http://172.16.0.9:9200 -p 5601:5601 -d kibana:6.5.0<br></code></pre></td></tr></table></figure>

<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="Elasticsearch-exception-type-search-phase-execution-exception-reason-all-shards-failed"><a href="#Elasticsearch-exception-type-search-phase-execution-exception-reason-all-shards-failed" class="headerlink" title="Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]"></a>Elasticsearch exception [type=search_phase_execution_exception, reason=all shards failed]</h3><p>curl “<a href="http://192.168.51.176:9200/jingqing_table_index/_search?size=10&amp;from=10000&quot;" target="_blank" rel="noopener">http://192.168.51.176:9200/jingqing_table_index/_search?size=10&amp;from=10000&quot;</a></p>
<p><strong>报错信息</strong></p>
<blockquote>
<p>{“error”:{“root_cause”:[{“type”:”query_phase_execution_exception”,”reason”:”Result window is too large, from + size must be less than or equal to: [10000] but was [10010]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting.”}],”type”:”search_phase_execution_exception”,”reason”:”all shards failed”,”phase”:”query”,”grouped”:true,”failed_shards”:[{“shard”:0,”index”:”jingqing_table_index”,”node”:”z6eictcOSyOmyHNJw9pEmA”,”reason”:{“type”:”query_phase_execution_exception”,”reason”:”Result window is too large, from + size must be less than or equal to: [10000] but was [10010]. See the scroll api for a more efficient way to request large data sets. This limit can be set by changing the [index.max_result_window] index level setting.”}}]},”status”:500}</p>
</blockquote>
<p><strong>解决方法</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">curl -XPUT "http://192.168.51.176:9200/jingqing_table_index/_settings" -H 'Content-Type: application/json' -d'<br>&#123; <br>  "max_result_window" : 100000000<br>&#125;'<br></code></pre></td></tr></table></figure>

<h3 id="Fielddata-is-disabled-on-text-fields-by-default-Set-fielddata-true-on-xzqhdm-in-order-to-load-fielddata-in-memory-by-uninverting-the-inverted-index-Note-that-this-can-however-use-significant-memory-Alternatively-use-a-keyword-field-instead"><a href="#Fielddata-is-disabled-on-text-fields-by-default-Set-fielddata-true-on-xzqhdm-in-order-to-load-fielddata-in-memory-by-uninverting-the-inverted-index-Note-that-this-can-however-use-significant-memory-Alternatively-use-a-keyword-field-instead" class="headerlink" title="Fielddata is disabled on text fields by default. Set fielddata=true on [xzqhdm] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory. Alternatively use a keyword field instead."></a>Fielddata is disabled on text fields by default. Set fielddata=true on [xzqhdm] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory. Alternatively use a keyword field instead.</h3><p>PUT <a href="http://192.168.51.176:9200/jingqing_table_index_hottool/_mapping/doc" target="_blank" rel="noopener">http://192.168.51.176:9200/jingqing_table_index_hottool/_mapping/doc</a><br>{<br>  “properties”:{<br>    “keyword”:{<br>      “type”:”text”,<br>      “fielddata”:true<br>    }<br>  }<br>}</p>
<h1 id="String-gt-List"><a href="#String-gt-List" class="headerlink" title="String -&gt; List"></a>String -&gt; List</h1><p><a href="http://192.168.51.176:9200/jingqing_table_index_hottool/_update_by_query?conflicts=proceed" target="_blank" rel="noopener">http://192.168.51.176:9200/jingqing_table_index_hottool/_update_by_query?conflicts=proceed</a><br>{<br>  “script”: {<br>    “source”: “if(ctx._source[‘keyword’] instanceof String){String s=ctx._source[‘keyword’];ArrayList array=new ArrayList();if(!s.isEmpty()){String splitter = ‘,’;StringTokenizer tokenValue = new StringTokenizer(s, splitter);while (tokenValue.hasMoreTokens()) {array.add(tokenValue.nextToken());}}ctx._source.keyword=array;}”<br>  }<br>}</p>
<h3 id="Linux-下启动"><a href="#Linux-下启动" class="headerlink" title="Linux 下启动"></a>Linux 下启动</h3><ul>
<li>跨域时需要需改<code>network.host: 0.0.0.0</code>，然后依次解决错误</li>
<li><code>Xms</code>和<code>Xmx</code>需配置相同</li>
<li>后台启动<code>es</code>：<code>./elasticsearch -d</code></li>
<li>后台启动<code>kibana</code>：<code>nohup ./kibana &amp;</code></li>
<li>启动时需要使用非root用户<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">groupadd elsearch<br>useradd elsearch -g elsearch<br>passwd elsearch# 接下来会输入两次密码<br><span class="hljs-meta">#</span><span class="bash"> new password</span><br><span class="hljs-meta">#</span><span class="bash"> retype passwd</span><br><br>cd path<br>chown -R elsearch:elsearch es/elasticsearch-7.6.1/<br><br>su elsearch<br></code></pre></td></tr></table></figure></li>
<li><code>kibana</code>外网访问<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim /etc/kibana/kibana.yml <br>server.host: "0.0.0.0"<br></code></pre></td></tr></table></figure>

</li>
</ul>

      </section>

      <section class="article-footer">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/es/" rel="tag">#es</a></li></ul>
      </section>

      <section class="article-navs">
        
<nav class="card-container card-article-nav">
  <div class="card-wrap">
    
      <div id="article-nav-newer" class="card-item img">
        <article>
          
            <div class="card-cover" style="background-image: url(https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1595490289390&amp;di=fc6bba8a878b227bf0f403cb6db5eded&amp;imgtype=0&amp;src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201706%2F24%2F20170624141028_XFvkS.thumb.700_0.jpeg)"></div>
          
          <a class="card-link article-nav-link" href="/2020/07/03/docker/"></a>
          <strong class="article-nav-caption">Newer</strong>
          <p class="article-nav-title">
            
              docker
            
          </p>
        </article>
      </div>
    
    
      <div id="article-nav-older" class="card-item img">
        <article>
          
            <div class="card-cover" style="background-image: url(https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1595491150514&amp;di=757159a71ec5d113a449b3264cf3fbb0&amp;imgtype=0&amp;src=http%3A%2F%2Fattachments.gfan.com%2Fforum%2Fattachments2%2F201304%2F14%2F181933zt78tn7qn1ptqn4p.jpg)"></div>
          
          <a class="card-link article-nav-link" href="/2020/06/26/base64/"></a>
          <strong class="article-nav-caption">Older</strong>
          <p class="article-nav-title">
            
              base64 coding principle
            
          </p>
        </article>
      </div>
    
  </div>
</nav>

      </section>

      

  
  

  
  


    </div>
  </article>
</div>

    <!-- footer container -->
<footer id="footer" class="footer">
  <div class="footer-container">
    
    <div class="social-icons social-icons-footer">
      <a href="mailto:1055894396@qq.com" target="_blank" rel="noopener noreferrer">
  <svg class="icon icon-email" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M490.338462 592.738462c11.815385 11.815385 29.538462 11.815385 41.353846 0l445.046154-413.538462c7.876923-15.753846 5.907692-41.353846-25.6-41.353846l-880.246154 1.969231c-23.630769 0-43.323077 21.661538-25.6 41.353846l445.046154 411.569231zM984.615385 340.676923c0-19.692308-23.630769-31.507692-39.384616-17.723077L596.676923 643.938462c-23.630769 21.661538-53.169231 33.476923-84.676923 33.476923s-61.046154-11.815385-84.676923-31.507693L80.738462 322.953846c-15.753846-13.784615-39.384615-3.938462-39.384616 17.723077C39.384615 334.769231 39.384615 787.692308 39.384615 787.692308c0 43.323077 35.446154 78.769231 78.769231 78.76923h787.692308c43.323077 0 78.769231-35.446154 78.769231-78.76923V340.676923z"></path>
  </svg>
</a>    </div>
     
    <p>&copy; 2020 <a href="/" target="_blank">KsClouds</a></p>

    
      <p id="hitokoto"></p>
      <script src="https://v1.hitokoto.cn/?c=a&amp;encode=js&select=%23hitokoto" defer></script>
    

    

    <p>Powered by <a href="https://hexo.io" target="_blank" rel="noopener noreferrer">Hexo</a> Theme - <a href="https://github.com/miiiku/flex-block" target="_blank" rel="noopener noreferrer author">flex-block</a></p>
  </div>
</footer>
  </div>

  <div class="back-to-top-fixed">
    <svg class="icon icon-back-to-top" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M725.333333 426.666667c-12.8 0-21.333333-4.266667-29.866667-12.8l-213.333333-213.333333c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l213.333333 213.333333c17.066667 17.066667 17.066667 42.666667 0 59.733333C746.666667 422.4 738.133333 426.666667 725.333333 426.666667z"></path>
  <path d="M298.666667 426.666667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l213.333333-213.333333c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-213.333333 213.333333C320 422.4 311.466667 426.666667 298.666667 426.666667z"></path>
  <path d="M512 896c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 682.666667C554.666667 878.933333 537.6 896 512 896z"></path>
</svg> 
  </div>

  
  


  <!-- aplayer 音频 start -->
  <link rel="stylesheet" href="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.css">
  <script type="text/javascript" src="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.js"></script>
  <script type="text/javascript">
    const aplayer = document.querySelectorAll(".aplayer");
    aplayer && initaplayer(aplayer);
    function initaplayer(els) {
      let elsArr = Array.from(els);
      elsArr.forEach(el => {
        new APlayer({
          container: el,
          audio: { ...el.dataset },
          theme: "#b7daff",
          lrcType: 3,
          autoplay: false,
          loop: false,
          mutex: true,
        });
      });
    }
  </script>
  <!-- aplayer 音频 end -->
  

<!-- dplayer 视频 start -->
<script type="text/javascript" src="https://unpkg.com/dplayer@1.25.1/dist/DPlayer.min.js"></script>
<script type="text/javascript">
  const dplayer = document.querySelectorAll(".dplayer");
  dplayer && initDPlayer(dplayer);
  function initDPlayer(els) {
    let elsArr = Array.from(els);
    elsArr.forEach(el => {
      let url = el.dataset.url;
      let cover = el.dataset.cover;
      let subtitle = el.dataset.subtitle;

      let options = {
        container: el,
        video: { url: url, pic: cover },
        theme: "#b7daff",
        autoplay: false,
        loop: false,
        mutex: true,
      }

      if (subtitle) {
        options.subtitle = {
          url: el.dataset.subtitle,
        }
      }
      new DPlayer(options);
    });
  }
</script>
<!-- dplayer 视频 end -->


<!-- waterfall 瀑布流 start -->

<script src="/lib/waterfall.min.js"></script>

<script type="text/javascript">

const waterfalls = document.querySelectorAll(".waterfall-container");

if (waterfalls && waterfalls.length > 0) {
  waterfalls.forEach((waterfall, index) => {
    let cls = "waterfall-container-" + index;
    waterfall.classList.add(cls);
    initWaterfall(cls, waterfall);
  });
}

function initWaterfall(selector, el) {
  const options = {};
  if (Object.keys(el.dataset).length > 0) {
    for (let k in el.dataset) {
      options[k] = el.dataset[k];
    }
  }
  waterfall(`.${selector}`, options);
}
</script>
<!-- waterfall 瀑布流 end -->


  <!-- zoom start -->
  
<script src="/lib/zoom.min.js"></script>

  <script type="text/javascript">
    document.querySelector(".article-content") && zoom(".article-content");
  </script>
  <!-- zoom end -->
  



  


  


  




<script src="/js/script.js"></script>

  
  <!-- 尾部用户自定义相关内容 -->

</body>
</html>